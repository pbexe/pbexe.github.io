!function(e){e.fn.materialbox=function(){return this.each(function(){function u(){i=!1;var n=r.parent(".material-placeholder"),l=(window.innerWidth,window.innerHeight,r.data("width")),u=r.data("height");r.velocity("stop",!0),e("#materialbox-overlay").velocity("stop",!0),e(".materialbox-caption").velocity("stop",!0),e("#materialbox-overlay").velocity({opacity:0},{duration:a,queue:!1,easing:"easeOutQuad",complete:function(){t=!1,e(this).remove()}}),r.velocity({width:l,height:u,left:0,top:0},{duration:a,queue:!1,easing:"easeOutQuad"}),e(".materialbox-caption").velocity({opacity:0},{duration:a,queue:!1,easing:"easeOutQuad",complete:function(){n.css({height:"",width:"",position:"",top:"",left:""}),r.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),r.removeClass("active"),i=!0,e(this).remove()}})}if(!e(this).hasClass("initialized")){e(this).addClass("initialized");var t=!1,i=!0,n=275,a=200,r=e(this),o=e("<div></div>").addClass("material-placeholder");r.wrap(o),r.on("click",function(){var a=r.parent(".material-placeholder"),o=window.innerWidth,s=window.innerHeight,l=r.width(),c=r.height();if(i===!1)return u(),!1;if(t&&i===!0)return u(),!1;i=!1,r.addClass("active"),t=!0,a.css({width:a[0].getBoundingClientRect().width,height:a[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),r.css({position:"absolute","z-index":1e3}).data("width",l).data("height",c);var d=e('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){i===!0&&u()});if(e("body").append(d),d.velocity({opacity:1},{duration:n,queue:!1,easing:"easeOutQuad"}),""!==r.data("caption")){var f=e('<div class="materialbox-caption"></div>');f.text(r.data("caption")),e("body").append(f),f.css({display:"inline"}),f.velocity({opacity:1},{duration:n,queue:!1,easing:"easeOutQuad"})}var h=0,p=l/o,v=c/s,m=0,g=0;p>v?(h=c/l,m=.9*o,g=.9*o*h):(h=l/c,m=.9*s*h,g=.9*s),r.hasClass("responsive-img")?r.velocity({"max-width":m,width:l},{duration:0,queue:!1,complete:function(){r.css({left:0,top:0}).velocity({height:g,width:m,left:e(document).scrollLeft()+o/2-r.parent(".material-placeholder").offset().left-m/2,top:e(document).scrollTop()+s/2-r.parent(".material-placeholder").offset().top-g/2},{duration:n,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}}):r.css("left",0).css("top",0).velocity({height:g,width:m,left:e(document).scrollLeft()+o/2-r.parent(".material-placeholder").offset().left-m/2,top:e(document).scrollTop()+s/2-r.parent(".material-placeholder").offset().top-g/2},{duration:n,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}),e(window).scroll(function(){t&&u()}),e(document).keyup(function(e){27===e.keyCode&&i===!0&&t&&u()})}})},e(document).ready(function(){e(".materialboxed").materialbox()})}(jQuery);