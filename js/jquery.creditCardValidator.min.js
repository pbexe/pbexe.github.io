(function(){var e,t=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};e=jQuery,e.fn.validateCreditCard=function(i,n){var a,r,o,s,l,u,c,d,f,p,h,v,m;for(s=[{name:"amex",pattern:/^3[47]/,valid_length:[15]},{name:"diners_club_carte_blanche",pattern:/^30[0-5]/,valid_length:[14]},{name:"diners_club_international",pattern:/^36/,valid_length:[14]},{name:"jcb",pattern:/^35(2[89]|[3-8][0-9])/,valid_length:[16]},{name:"laser",pattern:/^(6304|670[69]|6771)/,valid_length:[16,17,18,19]},{name:"visa_electron",pattern:/^(4026|417500|4508|4844|491(3|7))/,valid_length:[16]},{name:"visa",pattern:/^4/,valid_length:[16]},{name:"mastercard",pattern:/^5[1-5]/,valid_length:[16]},{name:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,valid_length:[12,13,14,15,16,17,18,19]},{name:"discover",pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,valid_length:[16]}],a=!1,i&&("object"==typeof i?(n=i,a=!1,i=null):"function"==typeof i&&(a=!0)),null==n&&(n={}),null==n.accept&&(n.accept=function(){var e,t,i;for(i=[],e=0,t=s.length;t>e;e++)r=s[e],i.push(r.name);return i}()),m=n.accept,h=0,v=m.length;v>h;h++)if(o=m[h],t.call(function(){var e,t,i;for(i=[],e=0,t=s.length;t>e;e++)r=s[e],i.push(r.name);return i}(),o)<0)throw"Credit card type '"+o+"' is not supported";return l=function(e){var i,a,l;for(l=function(){var e,i,a,o;for(o=[],e=0,i=s.length;i>e;e++)r=s[e],a=r.name,t.call(n.accept,a)>=0&&o.push(r);return o}(),i=0,a=l.length;a>i;i++)if(o=l[i],e.match(o.pattern))return o;return null},c=function(e){var t,i,n,a,r,o;for(n=0,o=e.split("").reverse(),i=a=0,r=o.length;r>a;i=++a)t=o[i],t=+t,i%2?(t*=2,n+=10>t?t:t-9):n+=t;return n%10===0},u=function(e,i){var n;return n=e.length,t.call(i.valid_length,n)>=0},p=function(e){return function(e){var t,i;return o=l(e),i=!1,t=!1,null!=o&&(i=c(e),t=u(e,o)),{card_type:o,valid:i&&t,luhn_valid:i,length_valid:t}}}(this),f=function(t){return function(){var i;return i=d(e(t).val()),p(i)}}(this),d=function(e){return e.replace(/[ -]/g,"")},a?(this.on("input.jccv",function(t){return function(){return e(t).off("keyup.jccv"),i.call(t,f())}}(this)),this.on("keyup.jccv",function(e){return function(){return i.call(e,f())}}(this)),i.call(this,f()),this):f()}}).call(this);